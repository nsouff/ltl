\documentclass[12pt,a4paper]{article}

\usepackage[french]{babel}
\usepackage[T1]{fontenc}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

\usepackage{tikz}
\usetikzlibrary{automata, positioning, arrows}

\usepackage{enumerate} 

% quelques définitions
\theoremstyle{plain}
\newtheorem{thm}{Théorème}
\newtheorem{cor}[thm]{Corollaire}
\newtheorem{lem}[thm]{Lemme}
\newtheorem{prop}{Proposition}
\newtheorem{dem}{Démonstration}

\theoremstyle{definition}
\newtheorem{defi}{Définition}
\newtheorem{rmq}{Remarque}
\newtheorem{ex}{Exemple}

\title {Automates et logique temporelle LTL}
\author{
  Souffan Nathan \and
  Bouarah Romain \and
  \\Supervisé par François Laroussinie
}


\begin{document}
\maketitle
\tableofcontents

\section{Automate de Büchi}
Les automates de Büchi sont un type particulier d'automate sur les mots infinis.
Les automates sur les mots infinis (ou $\omega$-automates) sont des automates finis qui acceptent des mots infinis.

\begin{defi}[Automate de Büchi]
  Un automate de Büchi est un quintuplet $\mathcal{A}=(\Sigma, Q, Q_I, \Delta, \mathcal{F})$ où :
  \begin{itemize}
  \item $\Sigma$ est un ensemble fini appelé alphabet de $\mathcal{A}$.
  \item $Q$ est un ensemble fini. Les éléments de $Q$ sont les états de $\mathcal{A}$.
  \item $Q_I \subseteq Q$ est l'ensemble des états initiaux.
  \item $\Delta \subset Q \times \Sigma \times Q$ est l'ensemble des transitions.
  \item $\mathcal{F} \subseteq Q$ est l'ensemble des états finaux (ou états acceptants).
    Un mot est accepté s'il passe une infinité de fois par au moins un état de $\mathcal{F}$.
  \end{itemize}

  Plus formellement, un mot est accepté par $\mathcal{A}$ si pour son exécution $\rho$ on a $Etats_{\#\infty}(\rho) \cap \mathcal{F} \neq \varnothing$, où :
  \begin{itemize}
  \item $Etats_{\#\infty}(\rho)$ est l'ensemble des états apparaissants une infinité de fois dans $\rho$
  \item Une exécution est définie ci-dessous
  \end{itemize}
\end{defi}

\begin{defi}[Exécution]
  Une exécution (ou un chemin ou un calcul) est une suite infinie de transitions consécutives : $\rho = (q_0,a_0,q_1)(q_1,a_1,q_2)\dots$.
\end{defi}

\begin{defi}[Trace]
  La trace (aussi appelée étiquette) d'une exécution est la suite des lettres, donc un mot.
  Si on a pour exécution $\rho = (q_0,a_0,q_1)(q_1,a_1,q_2)\dots$ alors la trace de $\rho$ est le mot $a_0a_1\dots$.
\end{defi}

\begin{ex}
  Soit $\mathcal{A}=(\{a,b\}, \{q_0, q_1\}, \{q_0\}, \Delta, \{q_1\})$ un automate de Büchi.
  L'ensemble des transitions $\Delta$ est donné dans la figure.
  \begin{figure}[h]
    \centering
    \begin{tikzpicture}[->, >=stealth, node distance=3cm, initial text=$ $, on grid]
      \node[state, initial] (q0) {$q_0$};
      \node[state, accepting, right of=q0] (q1) {$q_1$};
      \draw (q0) edge[bend left, above] node{a} (q1)
      (q1) edge[bend left, below] node{b} (q0)
      (q1) edge[loop above] node{a} (q1);
    \end{tikzpicture}    
    \caption{Automate de Büchi}
  \end{figure}
  
  Cet automate reconnaît le mot $aaa\dots$ car dans sa trace $q_0q_1q_1\dots$ l'état $q_1$ apparaît une infinité de fois.
  En fait, le langage reconnu (ou accepté) est $aa^\omega | a(a^*ba)^\omega$.
\end{ex}

Les automates de Büchi généralisés sont une variante des automates de Büchi.
La différence se situe sur la condition d'acceptation.
\begin{defi}[Automate de Büchi généralisé]
Un automate de Büchi généralisé est un quintuplet $\mathcal{A}=(\Sigma, Q, Q_I, \Delta, \mathcal{F})$ où :
  \begin{itemize}
  \item $\Sigma, Q, Q_I, \Delta$ sont comme précédemment.
  \item $\mathcal{F} \subseteq \mathcal{P}(Q)$ est la condition d'acceptation.
    $\mathcal{F}$ est un ensemble d'ensembles finaux.
  \end{itemize}

  Un chemin $c$ est accepté par $\mathcal{A}$ si pour tout $F \in \mathcal{F}$ il existe $S \in Etats_{\#\infty}(c)$ tel que $S \in F$.
  Autrement dit, $\mathcal{A}$ reconnaît $c$ si on passe infiniment souvent par un des états de chaque $F \in \mathcal{F}$.
\end{defi}

\subsection{Traduction de formule LTL en automate de Büchi}
On souhaite ``traduire'' une formule LTL en un automate de Büchi. Plus précisèment, on veut construire un automate qui reconnait les modèles de $\varphi$.

\begin{defi}
  On note $SubF(\varphi)$ l'ensemble des sous formules de $\varphi$ et leur négation.  
\end{defi}

\begin{ex}
  Si $\varphi = a U b$ alors $SubF(\varphi) = \{ a, \lnot a, b, \lnot b, a U b, \lnot(a U b)\}$.
\end{ex}

\begin{defi}[Sous-ensemble cohérent]
  Soit $q \in 2^{SubF(\varphi)}$. On dit que $q$ est cohérent si $q$ vérifie toutes les conditions suivantes :
  \begin{enumerate}[(i)]
  \item Si $\psi_1 \land \psi_2 \in q$ alors $\psi_1 \in q$ et $\psi_2 \in q$.
  \item Si $\psi_1 \lor \psi_2 \in q$ alors $\psi_1 \in q$ ou $\psi_2 \in q$.
  \item $\psi \in q \iff \lnot \psi \not\in q$.
  \item Si $\lnot (\psi_1 \land \psi_2) \in q$ alors $\psi_1 \not \in q$ et $\psi_2 \not \in q$ en même temps.
  \end{enumerate}
\end{defi}

\begin{defi}[Sous-ensemble maximal]
  Soit $q \in 2^{SubF(\varphi)}$. On dit que $q$ est maximal si pour tout $\psi \in SubF(\varphi)$ on a soit $\psi \in q$ soit $\lnot \psi \in q$.  
\end{defi}

\begin{defi}[Sous-ensemble conforme à la sémantique de LTL]
  Soit $q \in 2^{SubF(\varphi)}$. On dit que $q$ est conforme à la sémantique de LTL
  \begin{enumerate}[(i)]
  \item Si $\psi_1 U \psi_2 \in q$ alors on a soit $\psi_1 \in q$ soit $\psi_2 \in q$.
  \item Si $\psi_1 U \psi_2 \in SubF(\varphi)$, alors si $\psi_2 \in q$, $\psi_1 U \psi_2 \in q$.
  \end{enumerate}
\end{defi}

\begin{ex}
  Soit $\varphi = a U (Xb)$ alors
  \[
    SubF(\varphi) = \{a, \lnot a, b, \lnot b, Xb, \lnot (Xb), a U (Xb), \lnot (aU(Xb))\}
  \]
  \begin{enumerate}
  \item $q_1 = \{\lnot a, b, Xb, a U (Xb)\}$ est un sous-ensemble cohérent, maximal et conforme à la sémantique de LTL.
  \item $ $.
  \end{enumerate}
\end{ex}

\begin{thm}
  Soit $AP$ l'ensemble des propositions atomiques et $\varphi$ une formule LTL sur $AP$, alors $\mathcal{L}(\mathcal{A}_\varphi) = mod(\varphi)$
  où $\mathcal{A}_\varphi$ est l'automate de Büchi généralisé donné ci-dessous.

  \noindent
  On définit $\mathcal{A}_\varphi = (2^{AP}, Q, Q_I, \Delta, \mathcal{F})$ où :
  \begin{enumerate}
  \item $Q \subset 2^{SubF(\varphi)}$ contient tout les sous-ensembles de $SubF(\varphi)$ qui sont cohérents, maximaux et conformes à la sémantique de LTL.
  \item $Q_I = \{ q \subset SubF(\varphi) | \varphi \in q \}$. Autrement dit, tous les états contenant notre formule de départ $\varphi$ sont des états initiaux.
  \item $\Delta$
  \item $\mathcal{F}$
  \end{enumerate}
\end{thm}


\end{document}